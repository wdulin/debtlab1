{"ts":1349715610223,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1349715805364,"patch":[[{"diffs":[[1,"/*\n * Copyright (C) 2012 David Geary. This code is from the book\n * Core HTML5 Canvas, published by Prentice-Hall in 2012.\n *\n * License:\n *\n * Permission is hereby granted, free of charge, to any person \n * obtaining a copy of this software and associated documentation files\n * (the \"Software\"), to deal in the Software without restriction,\n * including without limitation the rights to use, copy, modify, merge,\n * publish, distribute, sublicense, and/or sell copies of the Software,\n * and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * The Software may not be used to create training material of any sort,\n * including courses, books, instructional videos, presentations, etc.\n * without the express written consent of David Geary.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n*/\n\nwindow.requestNextAnimationFrame =\n   (function () {\n      var originalWebkitRequestAnimationFrame = undefined,\n          wrapper = undefined,\n          callback = undefined,\n          geckoVersion = 0,\n          userAgent = navigator.userAgent,\n          index = 0,\n          self = this;\n\n      // Workaround for Chrome 10 bug where Chrome\n      // does not pass the time to the animation function\n      \n      if (window.webkitRequestAnimationFrame) {\n         // Define the wrapper\n\n         wrapper = function (time) {\n           if (time === undefined) {\n              time = +new Date();\n           }\n           self.callback(time);\n         };\n\n         // Make the switch\n          \n         originalWebkitRequestAnimationFrame = window.webkitRequestAnimationFrame;    \n\n         window.webkitRequestAnimationFrame = function (callback, element) {\n            self.callback = callback;\n\n            // Browser calls the wrapper and wrapper calls the callback\n            \n            originalWebkitRequestAnimationFrame(wrapper, element);\n         }\n      }\n\n      // Workaround for Gecko 2.0, which has a bug in\n      // mozRequestAnimationFrame() that restricts animations\n      // to 30-40 fps.\n\n      if (window.mozRequestAnimationFrame) {\n         // Check the Gecko version. Gecko is used by browsers\n         // other than Firefox. Gecko 2.0 corresponds to\n         // Firefox 4.0.\n         \n         index = userAgent.indexOf('rv:');\n\n         if (userAgent.indexOf('Gecko') != -1) {\n            geckoVersion = userAgent.substr(index + 3, 3);\n\n            if (geckoVersion === '2.0') {\n               // Forces the return statement to fall through\n               // to the setTimeout() function.\n\n               window.mozRequestAnimationFrame = undefined;\n            }\n         }\n      }\n      \n      return window.requestAnimationFrame   ||\n         window.webkitRequestAnimationFrame ||\n         window.mozRequestAnimationFrame    ||\n         window.oRequestAnimationFrame      ||\n         window.msRequestAnimationFrame     ||\n\n         function (callback, element) {\n            var start,\n                finish;\n\n            window.setTimeout( function () {\n               start = +new Date();\n               callback(start);\n               finish = +new Date();\n\n               self.timeout = 1000 / 60 - (finish - start);\n\n            }, self.timeout);\n         };\n      }\n   )\n();"]],"start1":0,"start2":0,"length1":0,"length2":3834}]],"length":3834,"saved":false}
